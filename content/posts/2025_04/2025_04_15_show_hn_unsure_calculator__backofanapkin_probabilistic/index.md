+++
date = '2025-04-15T00:00:00'
months = '2025/04'
draft = false
title = '【便利すぎ】ざっくり計算機が超進化！確率も考慮した「不確か計算機」が話題に'
tags = ["計算機", "確率", "ツール", "統計", "誤差"]
featureimage = 'thumbnails/purple2.jpg'
+++

> 【便利すぎ】ざっくり計算機が超進化！確率も考慮した「不確か計算機」が話題に

引用元：[https://news.ycombinator.com/item?id=43690289](https://news.ycombinator.com/item?id=43690289)

{{<matomeQuote body="これいいね！<br>HNの伝統で、記事の一つの単語に引っかかって、ほとんど関係ないけど、完全に的外れじゃないことを長々と語るよ。<br>こういう計算には、少なくとも3つの落とし穴があると思うんだ。<br>1) 95%って、みんなが思ってるよりずっと広いんだよねー。「ほぼこれ」って思うけど、実際は「これじゃないとマジでびっくり」くらい。みんな、自分のエラーバーを狭く見積もりすぎ。<br>2) 確率って、完全に無相関なことってあんまりないんだよ。「Mortgage Derivatives」の格言って呼ぶことにする。家族の例で言うと、家賃と食費はかなり相関してる可能性が高いんだ。家賃が高いと、食費も高くなる可能性が高い。これは分布を歪ませるんだよね。重み付けなしの一様分布でモデル化すると、実際の結果がどれだけありえないかに驚くことになる。<br>3) 一般的に、正規分布って思ってるより少ないんだよね。値に制約をかける要因が必要になることが多いんだ。自然界ではネガティブフィードバックループが多いからよく見るけど、Mother Natureの比較的整った庭から、人間の世界の混沌に足を踏み入れると、正規分布はかなり異常になるんだ。<br>これ、ツールとしては良いと思うし、実装も好きだよ。ただ、統計を初めて学んで指を失う人をたくさん見てきたんだ。" userName="roughly" createdAt="2025-04-15T23:37:58" color="#38d3d3">}}

{{<matomeQuote body="めっちゃ同意！特に1番ね。90%の自信がある範囲で見積もりを頼むと、平均して30%くらいの信頼区間になるんだって。90%以上の人が70%の信頼区間にも達しないんだよ。<br>＞https://blog.codinghorror.com/how-good-an-estimator-are-you/で試せるよ。" userName="btilly" createdAt="2025-04-16T00:13:18" color="#ff33a1">}}

{{<matomeQuote body="リンクから引用:<br>＞Heaviest blue whale ever recorded<br>誰かの専門外のことに関する見積もりエラーは、あまり意味がないと思うな。<br>同じトピックからもっと「簡単な」質問をしても、ひどい答えになるよ。「何パーセントのシロナガスクジラが青い？」とか、ただ「シロナガスクジラは青い？」とかね。<br>頻繁に見かけるけど数えてないものを推定する方が、良いテストになると思う。例えば、毎日家の前を何台の車が通るか、とか。算数とか、ソフトロジックとか、直感とかを応用できる。でも、普遍的な答えがないから、採点するのは難しい質問だね。" userName="Nevermark" createdAt="2025-04-16T01:54:48" color="">}}

{{<matomeQuote body="シロナガスクジラには詳しくないけど、トラックの1～5倍くらいの重さだと思う。トラックは車の10～20台分くらいで、車は1.2～2トンくらいだと見積もってるから、原始的に考えると、普通のシロナガスクジラは12～200トンくらいかな。これは、少なくともゾウの2倍の大きさであることとも一致する。ゾウは5トンくらいだと見積もってる。<br>問題は一番重いものについて聞いてるから、通常の3倍以上になることはないと思うし、おそらく1.3倍以下になることもないと思う。原始的な計算を使うと、15～600トンになる。OPの電卓では40～320トンと示唆されているね。<br>実際の値は170らしいけど、それはどうでもいいんだ。必要な限り広く、それ以上広くない区間にたどり着くプロセスが重要なんだ。<br>見積もりは訓練できるスキルだよ。常識を超えた専門知識に頼らない、一般的なスキルなんだ。" userName="kqr" createdAt="2025-04-16T04:50:13" color="#45d325">}}

{{<matomeQuote body="多くの分野での一般的な知識は、この点で役立つと思うよ。なぜなら、その分野で知っている最も近いものに近似できるからね。<br>どうすればジェネラリストになれるかってのが難しいところで、一番良いのは、読書とトリビアをたくさんすることだと思うな。（クロスワードパズルはいくらか効果的だったけど、効率的とは言い難いね）" userName="dotaenjoyer" createdAt="2025-04-16T07:03:08" color="">}}

{{<matomeQuote body="いや、それは関係ないよ。トリビアは区間を狭めるのに役立つけど、正しい区間を構成するのに必須じゃない。正しい区間はどんな幅でもいいんだから。" userName="kqr" createdAt="2025-04-17T04:39:46" color="">}}

{{<matomeQuote body="みんな、自分が確信がないことに対して、非常に広い範囲を許容されている、というかむしろそうすべきだということに気づいてなかったんじゃないかな。" userName="yen223" createdAt="2025-04-16T02:51:58" color="">}}

{{<matomeQuote body="このクイズの文脈はソフトウェアの見積もりだよね。だから、今まで見たことのないものを見積もるという意図的な寓話なんだと思う。君の「5～7日」という見積もりは、君が意図したよりもはるかに確実性を表しているってことを示そうとしてるんだよ。<br>いくつかの質問では、答えが何桁も異なることがある。例えば、一番重いシロナガスクジラに対する僕の答えは、5～500トンくらいになるだろうね。なぜなら、500トンのものがどれくらい重いのか、良い概念がないから。重要なのは、10回中9回くらい正解することであって、正確な見積もりをすることじゃないんだ。" userName="peeters" createdAt="2025-04-16T13:58:06" color="#ff5733">}}

{{<matomeQuote body="いや、3桁も違う見積もりは役に立たないと思うな。<br>君の5～7日の例で言うと、5～700日という見積もりになるよね。つまり、1週間か2年から2年の間ってことになる。まあ、君が見積もってるものは、その間には収まるだろうけど。でも、そこからどうやって実際の計画や予算を進めればいいんだ？" userName="duckmysick" createdAt="2025-04-16T14:49:04" color="">}}

{{<matomeQuote body="で、結局どうやって計画とか予算に落とし込むの？<br>そりゃ、一番最初に聞きたい数字をでっち上げるしかないっしょ。それでスケジュールが何とか辻褄合うようにするんだよ。エンジニアの見積もりなんて役立たずなのはそういうこと。精度が低いとか現実離れしてるってわけじゃなくて、マジな見積もり出したらクビになって、もっと上の人に都合のいいように適当なこと言って、問題を先送りするやつに替えられるだけなんだよね。" userName="throwup238" createdAt="2025-04-16T15:44:19" color="">}}

{{<matomeQuote body="それって、「尻尾で犬を振るにはどうしたらいいですか？」って聞いてるようなもんだよ。<br>予算は８０％の信頼度で割り当てるべき（このツールならスイッチ一つでそれができる）。で、関係者はそれを了承しないと。みんなエンジニアリングの締め切りに遅れた経験くらいあるんだから、そんなに難しくないはず。（Bezosなら７０％以下でもいいって言うかもね。）" userName="baq" createdAt="2025-04-16T17:02:05" color="#45d325">}}

{{<matomeQuote body="それって、精度は高いけど不確かな見積もりと大差ないと思うけどね。確実性を上げるために、もっと時間を使うか、調査を許可する必要があるってことだよ（例えば、このクイズなら10分以上かけたり、調べたりできるようにするとか）。あるいは、700日かかる可能性も覚悟しておくとか。<br>編集：あと、大きな視点で見れば、こういう見積もりも役に立つんだよね。こういう見積もりをたくさん足し合わせると、確率分布がかなり狭まるんだ。例えば、同じくらいのタスクが10個あったら、95%信頼区間はタスクあたり245～460になる。20個なら225～430になる。<br>ただし、これはあくまで簡略化された考え方で、5～700という見積もりが、平均352.5を中心とした正規分布を意味するわけじゃない。もっと対数分布みたいになって、平均は10日くらいになるはず。それに、これは各タスクが独立していることを前提にしてる…つまり、ある見積もりが上限に達したからといって、別の見積もりもそうなるとは限らないってこと。" userName="peeters" createdAt="2025-04-16T15:41:27" color="#38d3d3">}}

{{<matomeQuote body="質問にどれだけ慣れてるかは関係ないはず。よく知ってるなら、狭い90%の信頼区間を提示する。不慣れなら、広い区間を提示すればいい。" userName="MichaelDickens" createdAt="2025-04-16T15:41:21" color="">}}

{{<matomeQuote body="これ、この記事に対する俺の率直な感想と一致するわ。範囲についてあれこれ考えるのが面倒で、かえって結果の確信が持てなくなったんだよね。50ドルの結果は良かった。プラスマイナスで幅を持たせられるし、大体トントンかなって思える。一方、「95%の確率で残高は-60ドルから+220ドルの間になる」って言われても、具体的な情報が増えたような錯覚を起こしてるだけで、実際は不確実性が増してるだけじゃん？（それぞれの確率が本当に95%なのか、真の最小値/最大値が分かってるわけじゃないし）。だから、Drake方程式が好きじゃないんだよね。全部当てずっぽうの積み重ねで、本当に役に立つ数字が出てくるのか疑問。" userName="jrowen" createdAt="2025-04-16T04:09:34" color="">}}

{{<matomeQuote body="役に立つ数字は出てくるよ。真に独立した項が増えるほど、誤差は平方根で増えるけど、点推定は線形に増える。だから、全体として見ると、誤差が点推定に占める割合は小さくなる。<br>Fermi推定がうまくいくのはそのため。人に試してみると、ほとんどの場合、この方法で精度が上がる。<br>もし例の結果に確信が持てなくなったとしたら、それは良いことかもね。人はデフォルトで自分の誤差範囲を過信しがちだから。" userName="kqr" createdAt="2025-04-16T04:24:12" color="#ff5c5c">}}

{{<matomeQuote body="Fermi推定について少し調べてみたけど、正確な方法との違いがよく分からないな。次元解析で考えるように促すってこと？Wikipediaのこの記述が面白い。<br>＞対照的に、正確な計算は非常に複雑になる可能性があるが、得られる答えは正しいと期待される。<br>＞関与する要因と操作の数がはるかに多いため、数学的プロセスまたは方程式の前提に非常に重大なエラーが隠される可能性があるが、結果は依然として良い結果が得られると期待される正確な公式から導き出されているため、正しいと想定される場合がある。<br>つまり、単純さを保ち、あまり凝ったことをしないのが強みで、あくまで目安/健全性チェックってことだよね。Drake方程式は特に、十分なサンプルデータがない項が多すぎて、妥当な推測ができない気がする。でも、これは一般的に理解されていて、思考実験として見られていると思う。" userName="jrowen" createdAt="2025-04-16T16:31:10" color="">}}

{{<matomeQuote body="＞みんな自分の誤差範囲を過信しがちだ。<br>って言ってるけど、トップレベルのコメントで、みんな誤差範囲を狭くしすぎてるって言ってる人がいるよ。" userName="pests" createdAt="2025-04-16T06:32:26" color="">}}

{{<matomeQuote body="ごめん、言い方が紛らわしかった。<br>誤差範囲を過信してるってのは、誤差範囲を点推定に近づけすぎてるってこと。つまり、誤差範囲が狭すぎるってこと。" userName="kqr" createdAt="2025-04-16T09:07:49" color="">}}

{{<matomeQuote body="ああ、なるほど。ありがとう。逆の意味で読んじゃった。" userName="pests" createdAt="2025-04-16T19:41:40" color="">}}

{{<matomeQuote body="それって同じこと言ってるよね。元のコメントは、人が95%区間についてどう思ってるか、つまりメンタルモデルが過信だって指摘してるんだよ。95%ってのは「ほぼ確実」って意味じゃなくて「間違ってたらマジでびっくり」って意味だってこと。" userName="bigfudge" createdAt="2025-04-16T07:34:51" color="#38d3d3">}}

{{< details summary="もっとコメントを表示（1）">}}
{{<matomeQuote body="ポイントは不確実性を作り出すこと、少なくとも捉えることだと思うな。$50にプラスマイナスをつけるって言ってるけど、みんなが考えるプラスマイナスは実際より狭いんじゃないかなー。この例の価値は、結果がマイナスになる可能性も十分あるってことをハッキリさせてるところだと思う。最初にプラスの結果が出たとき、多くの人は認めないんじゃないかな。不確実性が増えて、結果への自信がなくなるのは、むしろ良いことなんだよ。" userName="roughly" createdAt="2025-04-16T16:03:23" color="#ff5733">}}

{{<matomeQuote body="技術者じゃない人たちと、大きなGANTTチャートの完成予定日を予測するプロジェクトやったんだ。ビジネス側の人は、タスクの完了時間を確率で表したいって言ってたんだよね。タスクの中には、新しいものとか、固定時間で測るのが難しいものもあったから。<br>みんな、t_i ~ PERT(min, mode, max)みたいに作業時間を指定するのが気に入ってたみたい。考え方と似てるし、現実世界によくある非対称な分布にも対応できるから。[参考: PERTは、もっとユーザーフレンドリーで直感的な、パラメータを変えたベータ分布だよ https://rpubs.com/Kraj86186/985700 ]" userName="pertdist" createdAt="2025-04-16T02:20:11" color="#38d3d3">}}

{{<matomeQuote body="それって、俺が見たPERTよりずっと洗練されてるじゃん。周りの人がPERT使ってるって言うとき、小さい数字、真ん中の数字、大きい数字を全部足してるだけなんだよね。それだと、分布が上下限で極端になりすぎるんだよ。" userName="kqr" createdAt="2025-04-16T09:11:10" color="">}}

{{<matomeQuote body="それ… PERTじゃないよ。「３点見積もりについてのツイートを読んだ」ってやつだね。好意的に解釈してるつもり。" userName="baq" createdAt="2025-04-16T11:13:11" color="">}}

{{<matomeQuote body="固定の作業時間でタスク管理するなんて希望的観測にすぎないんだから、本来は確率で考えるべきだよな。" userName="baq" createdAt="2025-04-16T08:06:38" color="#45d325">}}

{{<matomeQuote body="＞家賃は食費と相関してる可能性が高いー家賃が高ければ食費も高い可能性が高い<br>これには同意しかねるな。平均家賃と平均食費が相関しているモデルを持つのは合理的だけど、その2つのパラメータが与えられたら、平均からの変動は無相関としてモデル化できる。<br>＞一般的に正規分布は人が思っているほど一般的ではないー値に制約要因が必要になる傾向がある<br>それどこ情報？非相関な誤差は必要だけど、それは制約とかネガティブフィードバックじゃないでしょ。" userName="dawnofdusk" createdAt="2025-04-16T18:33:11" color="">}}

{{<matomeQuote body="家族の例はよくあるけど、プロジェクト計画で考えてみよう。2つのタスクがあって、それぞれ2～4週間かかる。でも、両方ともジムに依存してるんだ。ジムがタスク1で「オーバー」したら、タスク2で「アンダー」になる確率は？<br>住宅ローンデリバティブの格言と同じだよね。2008年に何が起こったかというと、住宅ローン担保デリバティブが1000の無相関な結果の集合体（住宅ローンの破綻）としてモデル化されてた。でも、1つの住宅ローンが破綻する原因となった条件の一部が、別の無関係な住宅ローンの破綻にもつながることを考慮してなかった。結果は無相関じゃなかったんだ。それを考慮せずに「100万分の1」の結果が現実よりもかなり起こりやすくなったんだよ。<br>正規分布は多くのシナリオをモデル化するのに適してないんだ。<br>正規分布は、結果が中心値の周りに集まる理由がある場合にしか使えない。身長とか体重とか、制約がある自然システムでは見られるけど。制約がないと、正規分布は当てにならない。富とか所得とか販売とかが良い例だね。" userName="roughly" createdAt="2025-04-16T19:54:16" color="#785bff">}}

{{<matomeQuote body="＞統計を初めて手にした人が指を失うのをたくさん見てきた。<br>これ最高。統計を電動工具とか銃器みたいに考えたことなかったけど、まさにその通りだね。" userName="youainti" createdAt="2025-04-15T23:54:45" color="#785bff">}}

{{<matomeQuote body="残念ながら指を失うのは統計を振り回してる本人じゃなくて、周りの人なんだよね。" userName="ninalanyon" createdAt="2025-04-16T13:52:17" color="#38d3d3">}}

{{<matomeQuote body="Normal distributionsは、平均と分散が与えられた時の最大エントロピー分布なんだってさ。だから、最大エントロピーの原理に従って、Normal distributionを選ばない理由がない限り（例えば、値が非負じゃないといけないとか）、Normal distributionを使うべきらしいよ。" userName="rssoconnor" createdAt="2025-04-16T12:25:00" color="#38d3d3">}}

{{<matomeQuote body="せめて、log-normal distributionも受け入れてほしいな。時には、.2～5みたいな係数が必要になるけど、それってN(2.6, 1.2)とは違うんだよね。" userName="tgv" createdAt="2025-04-16T14:01:31" color="">}}

{{<matomeQuote body="＞normal distributionを使うべきだって？<br>＞もし不確かな値について知ってるのが期待値と分散だけなら、そうかもね。<br>実際は他のことも知ってる場合が多いし、期待値とか分散を確実に知ってることなんて、ほとんどないよね。" userName="kqr" createdAt="2025-04-16T13:20:56" color="#ff5733">}}

{{<matomeQuote body="全部やろうとしたら、ポケット電卓みたいなのじゃなくて、本格的なDSLが必要だと思うな。でも、三角形分布を追加するのは良いと思う。" userName="jbjbjbjb" createdAt="2025-04-16T12:15:43" color="">}}

{{<matomeQuote body="いい指摘だね。この電卓のアイデアを、特定のユースケースに拡張して、統計計算を簡単にしたり、追加の変数を考慮できるようにするといいね。引っ越しはその一例かも。" userName="gamerDude" createdAt="2025-04-16T15:10:43" color="">}}

{{<matomeQuote body="＞2) 確率が真に無相関であることは稀だ<br>Unsure Calculatorの計算方法を完全に理解したわけじゃないけど、計算機に渡す範囲に「重み」を付けることができるかもしれないね。普通のベルカーブじゃなくて、もっと範囲を絞ったカーブとか、歪んだカーブを適用するとか。例えば、給料が10～20の間だけど、10に近い可能性が高いなら、10<~20とか、10!~20とか、10~12~20とかで、12寄りって示すとか。" userName="JKCalhoun" createdAt="2025-04-16T14:49:58" color="#ff5c5c">}}

{{<matomeQuote body="この場合の相関は、個々のイベントの分布の話じゃなくて、イベント間の相互作用の話なんだよね。例えば、家賃が1200～1800、食費が100～150だとしても、家賃が1200なら食費は100に近い可能性が高くて、食費が150なら家賃は1800に近い可能性が高い。要は、両方に影響を与える共通の要因（生活費）があるから、それをモデル化する必要があるんだ。<br>だから、1200~1500 + 100~150じゃなくて、(1~1.5)*(1200 + 150) – 「生活費」の分布を両方に適用する、って感じ。" userName="roughly" createdAt="2025-04-16T20:09:03" color="#ff33a1">}}

{{<matomeQuote body="似たようなツールを書いたことあるよ。<br>- コマンドライン用、fermi: <https://git.nunosempere.com/NunoSempere/fermi><br>- Android用、分布計算機: <https://f-droid.org/en/packages/com.nunosempere.distribution...><br><https://www.squiggle-language.com/> とかにも興味あるかも。<br>" userName="NunoSempere" createdAt="2025-04-15T23:30:09" color="">}}

{{<matomeQuote body="特にFermiはこんな感じの構文だよ<br><br>5M 12M           # シカゴに住んでる人の数<br>beta 1 200       # ピアノを持ってる人の割合<br>30 180           # ピアノの調律にかかる時間（移動時間込み）<br>/ 48 52          # ピアノ調律師が働く年間の週数<br>/ 5 6            # ピアノ調律師が働く週の日数<br>/ 6 8            # ピアノ調律師が働く1日の時間<br>/ 60             # 1時間を分に換算<br><br>掛け算がデフォルトで、分布はlognormal。" userName="NunoSempere" createdAt="2025-04-15T23:32:20" color="#45d325">}}

{{<matomeQuote body="このツールで作られた面白いフェルミ推定のスレッドがあるよ！例えば、北朝鮮がロシアから得ているカロリーの数とか。<br>https://x.com/NunoSempere/status/1857135650404966456<br>90万～150万トン　北朝鮮がロシアから得る米の年間量<br>×1000　1トンあたりのkg<br>×1200～1400　米1kgあたりのカロリー<br>÷1900～2500　1日のカロリー摂取量<br>÷2500万～2800万　北朝鮮の人口<br>÷365　これで何年分の食料になるか<br>÷1%　割合" userName="NunoSempere" createdAt="2025-04-15T23:48:50" color="#ff5733">}}

{{<matomeQuote body="Precelと似てるけど、こっちの方がシンタックスが少ないね。教えてくれてありがとー！" userName="kqr" createdAt="2025-04-16T04:58:55" color="">}}


{{< /details >}}
{{< details summary="もっとコメントを表示（2）">}}
{{<matomeQuote body="同じようなツールだと<br>https://carlo.app/<br>もおすすめ。これはGoogleスプレッドシート上で同じような計算ができるんだ。" userName="NunoSempere" createdAt="2025-04-16T00:35:33" color="">}}

{{<matomeQuote body="別の無料ツールだよ：<br>https://www.getguesstimate.com/" userName="dariosalvi78" createdAt="2025-04-21T20:31:55" color="">}}

{{<matomeQuote body="価格設定がマジでヤバい。BASICプランが年間2990ドル、PROプランが年間9990ドルだよ。<br>https://carlo.app/pricing" userName="joshlemer" createdAt="2025-04-16T14:36:29" color="">}}

{{<matomeQuote body="無料のプランもあるけど、サンプル数が少ないのと、限界費用ゼロの状況じゃないんだよね。" userName="NunoSempere" createdAt="2025-04-16T17:18:00" color="">}}

{{<matomeQuote body="androidアプリは対数正規分布に当てはめて、95%じゃなくて90%の信頼区間を使ってるんだ。こっちの方がこういう推定には向いてると思う。中心極限定理によると、独立変数の合計は正規分布になる傾向があるから、積は対数正規分布になる傾向があるし、分解のquick estimatesには掛け算がよく使われるからね。" userName="NunoSempere" createdAt="2025-04-16T00:22:59" color="#ff5c5c">}}

{{<matomeQuote body="これいいね！もしこのwrite upを楽しめたなら、“Dissolving the Fermi Paradox”って論文も面白いかも。確率密度関数を実際に掛け合わせるってやつで、よくある点推定じゃなくてね。ちょっと意外な結果が出てて、僕たちはもしかしたら本当に一人ぼっちなのかも。<br>https://arxiv.org/abs/1806.02404" userName="OisinMoran" createdAt="2025-04-15T23:55:40" color="#ff5c5c">}}

{{<matomeQuote body="これ、めっちゃ面白かった！ありがとね！" userName="drewvlaz" createdAt="2025-04-16T01:08:34" color="#38d3d3">}}

{{<matomeQuote body="ちょっぴり落ち込むけど、このサイトのみんなは方法論として読むべきかもね。" userName="baq" createdAt="2025-04-16T11:46:13" color="">}}

{{<matomeQuote body="似たようなツールをコマンドラインで作ったことあるんだ[1]。モチベーションはちょっと違うけどね[2]。こういう考え方の人が増えて嬉しいな。変動の要因を考える力は、訓練されてない人もいるけど、どんどん大事になってくるよね[3]。<br>[1]: https://git.sr.ht/~kqr/precel<br>[2]: https://entropicthoughts.com/precel-like-excel-for-uncertain...<br>[3]: https://entropicthoughts.com/statistical-literacy" userName="kqr" createdAt="2025-04-16T04:19:43" color="#ff33a1">}}

{{<matomeQuote body="https://www.getguesstimate.com/ って、スプレッドシート版って感じかな。" userName="trieloff" createdAt="2025-04-16T10:48:52" color="">}}

{{<matomeQuote body="ASCIIアート(厳密にはANSIアート)のヒストグラムがいいね。手早く済ませるハックだ。オレならチャートライブラリ探しで5倍時間かけて諦めてたかも。" userName="gregschlom" createdAt="2025-04-15T23:11:23" color="#38d3d3">}}

{{<matomeQuote body="似たような感じで、手書き風のイラストもすごくいいね。「napkin」テーマに合ってる。" userName="Retr0id" createdAt="2025-04-15T23:41:27" color="">}}

{{<matomeQuote body="これ[1]はAwkで書かれた実装。ちょっと粗削りだけど、簡単に拡張できそう。<br>[1] https://github.com/stefanhengl/histogram" userName="smartmic" createdAt="2025-04-16T06:44:53" color="">}}

{{<matomeQuote body="非スカラー乗算ってできないのかな？ 例えば、「3つのサイコロの目の合計」を出したいとき（正規分布じゃないのは無視して）、1~6 * 3 = 1~6 + 1~6 + 1~6 = 6~15 ってしたいんだ。でも、1~6 * 3 = 3~18 になっちゃう。「10-100日かかるタスクを1000個終わらせるのにどれくらいかかるか？」みたいな計算が難しい。" userName="peeters" createdAt="2025-04-16T16:01:56" color="#45d325">}}

{{<matomeQuote body="出力結果を区間/ガウス分布に変換できると嬉しいな。<br>注意：ヒストグラムに負の数(-5)があるのは、Unsure Calculatorの単純さゆえの欠点。情報がないと、計算機は負の数が不可能なことを知らない。<br>Drake Equationや確率を掛け合わせる式は、対数空間で見ると、不確実性は各確率のスケールにあり、最終的な確率は対数確率の指数の積になる。これなら負の数の問題は起きない。" userName="ttoinou" createdAt="2025-04-15T22:19:33" color="#45d325">}}

{{<matomeQuote body="マジすごい！ありがとね！" userName="ttoinou" createdAt="2025-04-16T08:29:17" color="#ff5c5c">}}

{{<matomeQuote body="最初はただのギミックかと思ったけど、意外と便利そうじゃん。普通の電卓アプリと並べて使えるアプリ版があれば絶対インストールするわ。まだ必要な場面を思い出せないけど、キーボードのホットキーに割り当てたら使い道が見つかりそう。" userName="krick" createdAt="2025-04-15T22:14:37" color="#785bff">}}

{{<matomeQuote body="人口 x 所有率 x 買い替え頻度 x 単価 でスマホ市場の年間売上を計算してみたら、ネットで報告されてる値と数パーセントしか違わなかった。三角関数もあるから、簡単な測定値から複雑な部品をリバースエンジニアリングするのにも便利そう（体積、コーナーの角度、断面積とか）。マルチモーダルだと嬉しいけど必須じゃない。逆三角関数も面白いけど、複雑になるから必須じゃないかな。とにかく、毎回Pythonを開くより便利。" userName="PennRobotics" createdAt="2025-04-17T07:42:53" color="#ff5733">}}

{{<matomeQuote body="＞もしアプリ版があったら<br>https://f-droid.org/en/packages/com.nunosempere.distribution…”を検討してみて。" userName="NunoSempere" createdAt="2025-04-16T00:28:14" color="">}}

{{<matomeQuote body="dartがメイン言語みたいだから、flutterアプリを作るのは簡単そう..." userName="hyperbolablabla" createdAt="2025-04-16T22:03:55" color="">}}


{{< /details >}}
{{< details summary="もっとコメントを表示（3）">}}
{{<matomeQuote body="機能リクエスト：確率分布を指定できるようにしてほしいな。例えば、’～’：正規分布、’_’：一様分布、とか。" userName="thih9" createdAt="2025-04-15T19:45:30" color="">}}

{{<matomeQuote body="関数として指定するのが良いと思う。G(50, 1) は平均 µ=50、標準偏差 σ=1 のガウス分布、N(3) は λ=3 の負の指数分布、U(0, 1) は 0 から 1 の一様分布、UI(1, 6) は 1 から 6 の一様整数分布、とか。こっちの方が柔軟で覚えやすい気がする。" userName="tgv" createdAt="2025-04-16T10:01:57" color="#38d3d3">}}

{{<matomeQuote body="いや、そうでもないかも。少なくとも永遠ではないと思う。一様分布はGitHubのchangelogに書かれてるし、もしかしたら今後の機能かもね：＞0.4.0<br>BRAKING: x~y (x から y の範囲) は “x から y の一様分布” を意味するようになった。x と y の間のすべての値が等しく出力される。<br>正規分布の場合、x+-d を使うと、平均が x、95% (2 シグマ) の範囲が x から距離 d になる。<br>https://github.com/filiph/unsure/blob/master/CHANGELOG.md#04..." userName="thih9" createdAt="2025-04-16T06:54:24" color="">}}

{{<matomeQuote body="コードをざっと見たけど、dartには慣れてないんだよね：https://github.com/filiph/unsure/blob/master/lib/src/calcula...<br>これってモンテカルロ法のアプローチなのかな？（データサイエンティスト同士でケンカしたいわけじゃないけどね :) ）。" userName="djoldman" createdAt="2025-04-15T19:39:09" color="">}}

{{<matomeQuote body="どういうことか説明してくれる？ 俺は(志望者)なんだけど" userName="porridgeraisin" createdAt="2025-04-15T20:35:22" color="">}}

{{<matomeQuote body="ソースコードはざっとしか見てないんだ。リンク先の記事を全部読んだらこう書いてあった。<br>＞計算はかなり遅い。できるだけ柔軟に対応するために、モンテカルロ法を使ってるんだ。つまり、計算機は、あなたが提示するすべての計算に対して約25万回のASTベースの計算を実行しているんだ。”<br>だからモンテカルロ法が使われてるって結論付けた。" userName="kccqzy" createdAt="2025-04-15T20:38:25" color="#45d325">}}

{{<matomeQuote body="めっちゃ簡単だよ。'100 / 2 ~ 4'の分位数を返す簡単なバージョンを以下に示すよ。<br><br>import numpy as np<br><br>def monte_carlo(formula, iterations=100000):<br>  res = [formula() for _ in range(iterations)]<br>  return np.percentile(res, [0, 2.5, *range(10, 100, 10), <br>  97.5, 100])<br><br>def uncertain_division():<br>  return 100 / np.random.uniform(2, 4)<br><br>monte_carlo(uncertain_division, iterations=100000)" userName="hawthorns" createdAt="2025-04-15T23:01:02" color="#38d3d3">}}

{{<matomeQuote body="19行目から21行目がモンテカルロ・サンプリングのアルゴリズムのはず。実装はちょっと直感的じゃないかもしれないけど、どうやら彼は計算機の式から関数を作って、その関数を呼び出すと、その関数からランダムな値が得られるようにしてるんだね。" userName="constantcrying" createdAt="2025-04-15T21:54:15" color="#45d325">}}

{{<matomeQuote body="ここ(https://uncertainty.nist.gov/)も似たようなモンテカルロ・スタイルの計算機で、NISTの統計家が設計したものだよ。測定における不確実性を伝播させるためのもので、様々な異なる仮定入力分布を扱うことができるんだ。" userName="nritchie" createdAt="2025-04-16T00:04:29" color="#45d325">}}

{{<matomeQuote body="このツールを作った時、これとか他の似たような計算機を見てたと思うよ。私が「もっと洗練されたものを使いたくなる」って言ったのはそういうこと。似たようなツールの問題点は、参入障壁が非常に高いことなんだ。それが私のプロジェクトが取り組もうとしていたことだけど、不完全ではあるね(少なくとも、確率分布の概念を理解する必要がある)。" userName="filiph" createdAt="2025-04-16T10:50:23" color="#ff5c5c">}}

{{<matomeQuote body="Guesstimate - https://www.getguesstimate.com/ もマジでおすすめ。" userName="henryaj" createdAt="2025-04-16T10:46:38" color="">}}

{{<matomeQuote body="数年前のSmol Show HNスレッド https://news.ycombinator.com/item?id=22630600" userName="pvg" createdAt="2025-04-15T19:48:05" color="">}}

{{<matomeQuote body="「1 / (-1~1)」って入れたら、-無限大から+無限大くらいになると思ったのに、-35~35って出た。マジでどれくらい使えるのか分からん。" userName="marcodiego" createdAt="2025-04-15T23:05:33" color="">}}

{{<matomeQuote body="たぶんエラーじゃないと思うよ。1/normal(0,1)を計算すると、分布全体は-infからinfになるけど、95%の範囲はそうとは限らないんじゃないかな。" userName="NunoSempere" createdAt="2025-04-16T00:32:06" color="">}}

{{<matomeQuote body="いまいち理解できないなー、たぶん数学が苦手だからかも。<br>もし-1～1を正規分布として扱うなら、中心は0だよね。モンテカルロシミュレーションで計算するなら、その分布からいろんな値を試すことになるんじゃない？そしたら0に近い値の方が選ばれやすいはず。だから、出力は0から遠い方が多くなるんじゃないかな？<br>ヒストグラムを見ると、実行ごとに違うけど、一番多いのは0に近い値みたい（たまに0そのもの）。それって分母が-1か1に近い値を選んでるってことにならない？" userName="SamBam" createdAt="2025-04-16T01:24:03" color="">}}

{{<matomeQuote body="Xが正規分布で0を中心とするなら、1/Xの平均は存在しないんだ（数学的には「無限大」）。こういう場合、モンテカルロシミュレーションは信頼できないんだよね。分散が大きくなるから（実行ごとにヒストグラムが変わるってこと）。<br>1/Xの実際の分布は結構面白いよ。参考になるのはこれ：https://en.m.wikipedia.org/wiki/Inverse_distribution#Recipro…" userName="blackbear_" createdAt="2025-04-16T19:33:59" color="#ff5733">}}

{{<matomeQuote body="えーと、出力の中央95%の範囲だけを気にする必要があるのかな？今回の計算は、入力の端の値が出力の中央の値に対応して、逆もまた然りっていう変な性質があるよね。入力で指定した範囲が出力される値だと考えると、出力は-infとinfを含むはず。<br>今気づいたけど、これって実際にはうまくいかないんだね。普通の計算でも、出力の中央95%になる入力値が、入力の95% CIから選ばれるとは限らないんだ。別にそれはいいんだけど、今回の例で、確率質量の2.5%を切り捨てるのがどれだけ恣意的かがよくわかるね。" userName="etbebl" createdAt="2025-04-16T03:44:56" color="#45d325">}}

{{<matomeQuote body="そうかもしれないけど、出力される分布を見ると、なんかおかしい気がする。0を中心とした急な正規分布みたいに見えるんだよね。ピークが2つあるべきじゃない？でも、バケットの解像度のせいで1つに圧縮されてるのかな？" userName="lswainemoore" createdAt="2025-04-16T03:09:06" color="">}}

{{<matomeQuote body="ちゃんとピークは2つあるよ：https://en.m.wikipedia.org/wiki/Inverse_distribution#Recipro…<br>この分布の平均は存在しない（無限大）から、モンテカルロ法は信頼できないんだ。" userName="blackbear_" createdAt="2025-04-16T19:39:33" color="#ff5733">}}

{{<matomeQuote body="区間演算とかアフィン演算は、確率を使わない別の方法だよ。https://en.wikipedia.org/wiki/Interval_arithmetic<br>分布を適当に選ぶのは危険だと思うな。整数とか正の値しか取らない量を使うことになると思うし（例えば）。「信頼性」を解釈するのがすごく難しくなると思う。<br>解に対する制約はサポートしてる？例えば、A = 3～10, B = 4 - A, B > 0とか。" userName="usgroup" createdAt="2025-04-16T07:35:53" color="#ff5733">}}


{{< /details >}}


[記事一覧へ]({{% ref "/posts/" %}})
