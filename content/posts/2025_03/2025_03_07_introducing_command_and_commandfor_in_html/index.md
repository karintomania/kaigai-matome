+++
date = '2025-03-07T00:00:00'
months = '2025/03'
draft = false
title = 'HTMLに新機能登場！commandとcommandforがもたらすインタラクティブな未来とは'
tags = ["HTML", "インタラクティブ", "プログラミング", "ウェブ開発", "新機能"]
featureimage = 'thumbnails/purple8.jpg'
+++

> HTMLに新機能登場！commandとcommandforがもたらすインタラクティブな未来とは

引用元：[https://news.ycombinator.com/item?id=43292056](https://news.ycombinator.com/item?id=43292056)

{{<matomeQuote body="プログラミング言語理論の研究者たちは８０年代から“goto”のより強力な兄貴分“comefrom”について語ってたけど、Intercal でようやく実装されたんだ。Cみたいな言語よりは安全性、パフォーマンス、使いやすさが明らかに優れてるけど、商業市場に浸透するのが難しかったみたい。悪い方が良いってのが理由かも。Javascript がこの機能を取り入れたのは嬉しいし、これが丁寧なプログラミングの流行につながってくれたらいいな。" userName="QuadmasterXLII" createdAt="2025-03-07T17:51:36" color="#785bff">}}

{{<matomeQuote body="Haha、Intercal と“comefrom”をすっかり忘れてたよ。ほんと天才的な考えで、良いプログラミングデザインパターンを維持・サポートするのに苦労してた問題を４０年も前に予測してるね。" userName="bunderbunder" createdAt="2025-03-07T21:00:42" color="#ff5c5c">}}

{{<matomeQuote body="C#にも COMEFROM があるよ： https://github.com/dotnet/roslyn/blob/main/docs/features/int... 使うのは面倒だけど、不可能ではないね。" userName="harrison_clarke" createdAt="2025-03-08T05:18:00" color="">}}

{{<matomeQuote body="＞“丁寧なプログラミングの流行に繋がるといいな”とは言ったけど、でもあまり丁寧すぎるのもダメだね。コンパイラはそれを好まないよ。" userName="alterom" createdAt="2025-03-07T18:04:36" color="">}}

{{<matomeQuote body="最近は“控えめ”がトレンドらしいよ。" userName="esafak" createdAt="2025-03-07T18:42:59" color="">}}

{{<matomeQuote body="まるでガチの Sigma が、いいとも、そんなんだ。" userName="BobbyTables2" createdAt="2025-03-07T23:54:59" color="">}}

{{<matomeQuote body="お母さんによろしく。" userName="krapp" createdAt="2025-03-08T01:46:43" color="">}}

{{<matomeQuote body="うん。" userName="mock-possum" createdAt="2025-03-07T22:21:24" color="">}}

{{<matomeQuote body="まあ、少なくともBooコンパイラは好まないだろうね。 https://en.m.wikipedia.org/wiki/Boo_(programming_language)" userName="fuzztester" createdAt="2025-03-07T22:44:28" color="">}}

{{<matomeQuote body="もちろんそうだね。おべっかを使うコードは本当にうるさい。" userName="SAI_Peregrinus" createdAt="2025-03-07T18:34:40" color="">}}

{{<matomeQuote body="ダウンロードサイトはどこ？Psycho fanatic言語、お願い！" userName="fuzztester" createdAt="2025-03-07T23:10:55" color="">}}

{{<matomeQuote body="commandとcommandforってcomefromと似てるのかな？gotoとも似てる気がする。gotoはトリガーが何をするかを指定するけど、commandとcommandforもそれと同じだよね。comefromは何をするかがトリガーを指定する。これはJavascriptのdocument.addEventListener()と似てる。" userName="Thorrez" createdAt="2025-03-08T15:31:40" color="">}}

{{<matomeQuote body="いや、似てないと思う。gotoとは全く違うし、単なるメソッド呼び出しって感じで、gotoとは関係ないよ。" userName="ancyrweb" createdAt="2025-03-10T03:42:36" color="">}}

{{<matomeQuote body="古いけど、comefromとgotoのPython実装（俺のじゃない）。これはpypyパッケージよりも前のやつだよ。やっぱり理由があるね！" userName="btown" createdAt="2025-03-08T19:07:58" color="">}}

{{<matomeQuote body="Perlは数十年前からcomefromをサポートしてるよ！" userName="stonogo" createdAt="2025-03-07T22:02:30" color="">}}

{{<matomeQuote body="え、Perlはサンスクリットをサポートしてるの？それともRakuは？文法機能があるから、もしかするとサポートするかも。" userName="fuzztester" createdAt="2025-03-07T23:30:06" color="">}}

{{<matomeQuote body="サンスクリットはデーヴァナーガリー文字で書かれていて、これを使う人は10億人近いから、Unicode識別子を扱える言語なら問題ないよ。挑戦したいならRongorongoやクシンゴンでどう？俺は実際のヒエログリフでコーディングしたい。" userName="chuckadams" createdAt="2025-03-08T01:35:41" color="">}}

{{<matomeQuote body="サンスクリットはデーヴァナーガリー文字で書かれる（今はほとんどそう）。ただ、ネイティブ文字はないんだって。Unicodeのスクリプトであれば大丈夫だよ。" userName="chrismorgan" createdAt="2025-03-08T06:18:15" color="">}}

{{<matomeQuote body="TeXはパーサーを再構築でき（ala TeXInfo）、Unicodeエンジンを使えばUTFも使える。TeXはフォントの埋め込みもできるし、Lyxを使えば埋め込んだフォントを書いて見ることができる。" userName="shakna" createdAt="2025-03-08T01:57:53" color="">}}

{{<matomeQuote body="コメントにたくさんの誤りがあるね。インドに住んでるインディアンと話してるってこと、理解してる？サンスクリットの勉強もしてるんだから、意見をちゃんと考えた方がいいよ。まあ、Googleで調べてもいいけどね。Smartでデータを見てみるといいよ。" userName="fuzztester" createdAt="2025-03-08T03:25:29" color="#785bff">}}

{{< details summary="もっとコメントを表示（1）">}}
{{<matomeQuote body="お前、冗談が通じてないんじゃね？治療を受けた方がいいぞ。" userName="chuckadams" createdAt="2025-03-09T03:55:57" color="">}}

{{<matomeQuote body="お前の考え方は弱すぎるし、自分に劣等感があるのが丸見えだ。俺のコメントにいきなり攻撃してきたけど、みんなお前に何も期待してないから。お前みたいなクズの意見を気にするやつなんていない。社会人としての自覚を持てよ、そんなことで人を攻撃してる場合じゃないぞ。" userName="fuzztester" createdAt="2025-03-14T00:01:48" color="">}}

{{<matomeQuote body="それ面白い、俺はそれを冗談だと思ったよ。" userName="zaphirplane" createdAt="2025-03-08T03:28:04" color="">}}

{{<matomeQuote body="同意だ。ちょっとオタクすぎる感じがする。" userName="ncr100" createdAt="2025-03-08T04:06:09" color="">}}

{{<matomeQuote body="全体の理論がわからないけど、非JSデベの俺にはイベントにちょっとオブジェクト指向の甘さを加えただけに見える。ちょっと冗長な気もするけど、グローバルリスナーよりは良いかも。" userName="jayd16" createdAt="2025-03-07T19:27:14" color="">}}

{{<matomeQuote body="COMEFROMはIntercal言語の面白いジョークの一つだ。言語仕様書を読むことを勧めるよ。" userName="gmueckl" createdAt="2025-03-07T19:55:15" color="">}}

{{<matomeQuote body="Intercalのプログラミングマニュアルを探してみたけど、comefromの記載が見当たらなかった。" userName="Voultapher" createdAt="2025-03-08T12:05:28" color="">}}

{{<matomeQuote body="C-INTERCALと呼ばれる方言から来ていて、スペースを入れて書くと『COME FROM』になる。" userName="mannykannot" createdAt="2025-03-08T18:29:41" color="">}}

{{<matomeQuote body="逆計算の『gofrom』や『cometo』だって忘れちゃいけないよ。" userName="DonHopkins" createdAt="2025-03-07T19:00:10" color="">}}

{{<matomeQuote body="俺の新言語には『thataway』や『overyonder』『uptown』の構文を含めるつもり。" userName="mindcrime" createdAt="2025-03-07T23:40:08" color="">}}

{{<matomeQuote body="２のブギー、さあ跳んでみろ" userName="DonHopkins" createdAt="2025-03-08T01:36:53" color="">}}

{{<matomeQuote body="呼んでるかい" userName="edoceo" createdAt="2025-03-07T23:10:44" color="">}}

{{<matomeQuote body="どこから来たのか" userName="yellowapple" createdAt="2025-03-08T03:43:55" color="">}}

{{<matomeQuote body="＞”オプションの同義語について”<br>Leaveは分かるけど、「return from」は続きとして正しく描写されてると思うよ。対して「come from」は非局所のgotoじゃない？" userName="fc417fc802" createdAt="2025-03-07T23:05:40" color="">}}

{{<matomeQuote body="継続についての理解が始まる前に止まったわ" userName="fuzztester" createdAt="2025-03-07T23:33:28" color="">}}

{{<matomeQuote body="真剣かどうか分からないけど、継続は面白いから、誰かの役に立つかもと思って投稿するね。混乱するけど、慣れればそうでもないよ。スタックフレームを独立した状態としてモデル化するんだ。戻るとき、スタックフレームが残ることを考えてみて。その後、戻ったフレームにスタックポインターを戻そうとする。引数を渡すための規則も加えると、継続が分かるようになるよ。" userName="fc417fc802" createdAt="2025-03-08T08:25:06" color="#38d3d3">}}

{{<matomeQuote body="戻ったフレームにスタックポインターを戻す？そこが継続が分からなくなるポイントだよね。" userName="bryanrasmussen" createdAt="2025-03-08T11:00:37" color="">}}

{{<matomeQuote body="その部分が難しいよね。もうスタックはないんだ。関数のアクティベーションレコードはヒープに割り当てられて、必要なだけ残ることができる。" userName="cyco130" createdAt="2025-03-08T13:09:19" color="">}}

{{<matomeQuote body="＞ボタンはウェブでのインタラクティビティの基盤だっていうのはすごくうまいまとめだと思う。確かに、インタラクティビティの基盤を提供するのはハイパーリンクだよね。" userName="qwery" createdAt="2025-03-08T04:32:27" color="#ff5c5c">}}

{{<matomeQuote body="ハイパーリンクはインタラクティブじゃない気がする。あれはブックマークのようなもので、リンクをクリックしてページ間を移動するだけだし。" userName="afavour" createdAt="2025-03-08T05:24:11" color="">}}


{{< /details >}}
{{< details summary="もっとコメントを表示（2）">}}
{{<matomeQuote body="ハイパーリンクとクエリパラメータでインタラクティビティを実現する例もあるよ。例えば、テーブルをソートする時にカラムヘッダーをリンクにして、?sort_by={colname}を追加してサーバーに知らせる、とか。" userName="porridgeraisin" createdAt="2025-03-08T05:32:13" color="">}}

{{<matomeQuote body="確かに厳密に言えば、GETリクエストはサーバーの可視状態を変更すべきじゃないから、ソートはインタラクティブとは言えないかも。新しいコンテンツを追加するにはPOSTが必要だし。" userName="xg15" createdAt="2025-03-08T09:58:10" color="">}}

{{<matomeQuote body="GETパラメータでのソートはサーバーの状態には影響しないけど、クライアントから見るとソートしたデータは意味があるよね。切り分けが難しいけど、このルールについてもっと知りたい。" userName="social_quotient" createdAt="2025-03-08T12:20:52" color="">}}

{{<matomeQuote body="ごめん、ソートを忘れてた。クエリの結果をソートするのはサーバーサイドでGETリクエストでも問題ない。ただし、デフォルトのソート順を設定するのはNG。" userName="xg15" createdAt="2025-03-08T12:52:52" color="#ff5733">}}

{{<matomeQuote body="GETリクエストはログが残るから、サーバーの状態が変わることもあると思う。ログの解析でエラーも起こるから、注意が必要。" userName="neuroelectron" createdAt="2025-03-08T12:10:16" color="">}}

{{<matomeQuote body="GETリクエストはサーバーでの可視的な状態を変更すべきじゃない。例えば、GETで投稿を追加するとルール違反になるんだ。" userName="xg15" createdAt="2025-03-08T12:14:07" color="">}}

{{<matomeQuote body="技術的なことで言うと、ボタンとJSの結果は同じ体験だと思う。ただし、遅延があるけど。" userName="afavour" createdAt="2025-03-08T05:38:24" color="">}}

{{<matomeQuote body="＞ハイパーリンクとクエリパラメータを使うって、サーバー処理なしでもできるよね。ページが返ってきた後、クライアントで処理してテーブルを並べ替えられるし。" userName="lelanthran" createdAt="2025-03-08T15:16:55" color="">}}

{{<matomeQuote body="そうだよね、でもそれもボタンとして実装されてたんじゃない？input type=”submit”は1993年にはボタンを表示してたと思う。JavaScriptなしでリンクのように動作して、でもボタンだったんだよね。" userName="furyofantares" createdAt="2025-03-08T06:45:13" color="">}}

{{<matomeQuote body="当時の一番目立つ違いは、リンクの行き先がブラウザに明示されてたのに対し、inputボタンは完全に不透明だったことだよね。画像を使ったボタンをa hrefタグの中に作って、GETリクエストを発生させてた。POSTリクエストをする唯一の方法は、フォームの中のボタンだった。" userName="pmontra" createdAt="2025-03-08T07:39:49" color="#45d325">}}

{{<matomeQuote body="著者が言いたいのはおそらくハイパーメディアのことだね。ボタンとリンクはただの手段で、ユーザーがクリックしたりマウスを動かさない限りインタラクティビティは発生しない。クライアントだけのインタラクティビティについても話せるけど、その話題ではないね。" userName="ancyrweb" createdAt="2025-03-10T03:45:57" color="">}}

{{<matomeQuote body="例外として考えられるのは、<br>- URLハッシュリンクとCSSの:target擬似クラス。<br>- iframeをターゲットにするリンク。<br>これらのパターンを乱用することを勧めるわけじゃないけど、軽いインタラクティビティには使えるよ。" userName="smac__" createdAt="2025-03-08T12:43:32" color="">}}

{{<matomeQuote body="それらは単にハイパーリンクがボタンのように振る舞うための追加機能だよ。ただし、厳密な定義では「ハイパーリンク」は二つのウェブページをつなぐリンクだからね。" userName="spoaceman7777" createdAt="2025-03-08T14:11:32" color="">}}

{{<matomeQuote body="著者がウェブのインタラクティビティの基礎について考えたのか、ただAIにいい感じのイントロを書かせたのかはよく分からないな。" userName="skobes" createdAt="2025-03-08T13:06:03" color="">}}

{{<matomeQuote body="InvokersはChromeだけのものじゃないよ、気になってる人のために言っておくけど、すでにFirefoxのナイトリービルドにも入ってるからね。<br>https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonE..." userName="msub2" createdAt="2025-03-07T17:51:29" color="">}}

{{<matomeQuote body="WebKitは「サポート」立場を取ったみたいだね。<br>https://github.com/WebKit/standards-positions/issues/264" userName="Kerrick" createdAt="2025-03-07T18:00:04" color="">}}

{{<matomeQuote body="仕様について:<br>button要素, commandfor属性: <br>https://html.spec.whatwg.org/multipage/form-elements.html#at...<br>button要素, command属性: <br>https://html.spec.whatwg.org/multipage/form-elements.html#at..." userName="jt2190" createdAt="2025-03-07T17:50:13" color="">}}

{{<matomeQuote body="これはほんとにNextやBe、Appleが30年前に使用したアクション/メッセージングパターンなの？それとも何か見落としてた？有用だったけど、結局はインターフェースベースのコントローラーパターンに進化したと思う。多くの改善要求が出てくるだろうね。" userName="hoc" createdAt="2025-03-07T18:14:03" color="">}}

{{<matomeQuote body="Webが15年遅れてると思ってたけど、実は30年古い技術に追いついてるんだなって感じ。こんなニュースはムカつくね。自分が使えるものになると思ってたけど、膝の変形性関節症になっちゃって、まだ使い物にならない。悲しい気持ちだわ。" userName="wruza" createdAt="2025-03-08T00:45:40" color="">}}

{{<matomeQuote body="何が役立つものになる可能性があったのかな？" userName="9dev" createdAt="2025-03-08T08:03:00" color="">}}


{{< /details >}}
{{< details summary="もっとコメントを表示（3）">}}
{{<matomeQuote body="新しいアイデアではなく、ChromeとWebの仕様に実装されたってだけだよ。" userName="dartos" createdAt="2025-03-07T19:00:17" color="">}}

{{<matomeQuote body="＞”新しいcommandとcommandfor属性が、popovertargetactionとpopovertarget属性を強化・置き換える。”<br>これって新しい基本機能になったってこと？置き換えるってどういう意味？将来的に不要になったら消されたりするのかな？今後追加されるものについて、開発者たちは本当にその影響を考えてるんだろうかって疑問に思う。" userName="nikeee" createdAt="2025-03-07T19:58:36" color="#38d3d3">}}

{{<matomeQuote body="私もそれは変だと思った。先にメディアコントロール向けに実装してから、後でpopovertarget属性を統合する方が理にかなった気がする。これってウェブ機能の最速廃止記録かも。" userName="mubou" createdAt="2025-03-08T02:34:23" color="">}}

{{<matomeQuote body="私の脳の働きなのか、美的な問題なのか分からないけど、文字列でプログラミングするのが全然ダメ。特にアクセシビリティの利点は理解できるけど、要素IDを使うことにはあまりワクワクしないな。" userName="mpalmer" createdAt="2025-03-07T21:10:40" color="">}}

{{<matomeQuote body="文字列のコードは私のお手本のようなコード臭。できるし、正しく書けばうまくいくけど、結局は問題を先延ばしにしてるだけ。HTML要素は文書を表すものなので、自然に文字列的だけど、複雑なアプリケーションでは物足りない。これはハックだよ。とはいえ、話題の機能が悪いわけではない。ただのハックだと思う。" userName="qwery" createdAt="2025-03-08T05:20:05" color="#45d325">}}

{{<matomeQuote body="それには同意するけど、少なくとも一貫性はあるよね。’for’、’list’、’aria-labelledby’、’aria-describedby’などの属性もこういう風に機能するから。" userName="ximm" createdAt="2025-03-08T08:38:52" color="">}}

{{<matomeQuote body="私もあまり好きじゃないけど、フレームワークでカバーできるし、フレームワークが合わなければ良い構成要素にはなると思うよ。" userName="hdjrudni" createdAt="2025-03-07T21:27:46" color="">}}

{{<matomeQuote body="そうだね、間違いない。ただし、イベントは素晴らしいと思うし、これは既存のフレームワークあってもシンプルになると思う。テンプレートを使わない限り、Epipenをしまえるよ。" userName="mpalmer" createdAt="2025-03-07T21:34:50" color="">}}

{{<matomeQuote body="あなたの言いたいこと、わかるよ。" userName="conartist6" createdAt="2025-03-08T00:14:48" color="">}}

{{<matomeQuote body="２０２５：＞”HTMLはボタン用にonclickハンドラーを提供するけど、これらはCSPルールの関係でデモやチュートリアル以外では禁止されることが多い。”<br>２０３３：＞”HTMLはボタン用にcommandとcommandforハンドラーを提供するけど、これらはCSPルールの関係でデモやチュートリアル以外では禁止されることが多い。”" userName="gred" createdAt="2025-03-08T21:02:12" color="">}}

{{<matomeQuote body="僕の失読症の自分は、HTMLのcommandにワクワクしたよ。" userName="darth_avocado" createdAt="2025-03-07T17:54:31" color="">}}

{{<matomeQuote body="今日、Red AlertをThree.jsに移植しているプロジェクトを見つけたよ：<br>https://github.com/chongdashu/CnC_Red_Alert-ThreeJs" userName="DeathRay2K" createdAt="2025-03-07T19:14:44" color="#45d325">}}

{{<matomeQuote body="僕もそう思った。ボタンについて読んでいて、ゲームはどこにあるんだろうって思ったよ。でもボタンは面白いね。" userName="k6hkUZtLUM" createdAt="2025-03-07T18:29:41" color="">}}

{{<matomeQuote body="ボタンについて読んでいる時、これがCommand and Conquerを新しい形でトランスパイルするのにどう機能するのかを期待してたよ。新機能は本当にありがたいけど。" userName="netghost" createdAt="2025-03-07T18:22:54" color="">}}

{{<matomeQuote body="完全なAPIなしで実装したのはどうかと思う。5つのコマンドだけじゃなくて、HTML経由で全てのJavaScript機能を実装できる可能性があるから、数千のコマンドにもなるかもしれない。" userName="vFunct" createdAt="2025-03-07T18:10:03" color="">}}

{{<matomeQuote body="実装は難しくないと思うよ。コマンド文字列をこう変換すればいいんじゃないかな：<br>1. ダッシュで分割して配列にする<br>2. 最初の配列の最初の文字を小文字、他は大文字にする<br>3. くっつける<br>4. `document.getElementById(element.commandfor)[concatenated]()`を使う。もちろん、要素が存在するか、メソッドが存在するか、パラメータがないかのチェックはしてないけど。でも、カスタムコマンドも簡単にできるようになるよ。" userName="PokestarFan" createdAt="2025-03-07T19:17:41" color="#ff5c5c">}}

{{<matomeQuote body="これはインラインJSの安全な代替品を目指しているから、任意のJSを実行するのは逆効果だと思う。" userName="rafram" createdAt="2025-03-08T12:37:10" color="">}}

{{<matomeQuote body="実際の力はカスタムコマンドとそれを実装する標準的な方法にあると思う。標準のコマンドは常に便利なだけで、多くの人が複雑さが増すとカスタム版に変えるからね。閉じるコマンドのようなものも、--my-closeみたいになるし、dialogEl.close()を呼ぶ前にいくつかのチェックが入るよ。" userName="Someone1234" createdAt="2025-03-07T19:08:28" color="">}}

{{<matomeQuote body="確かにそう思う。複雑なUIでもJSが必要なケースが思いつかないな。段階的に導入できる道筋を示してるのかも。" userName="ericyd" createdAt="2025-03-07T18:50:07" color="#ff5c5c">}}

{{<matomeQuote body="HTMLが改善されているのは良いけど、まだまだ先は長いね。HTMXの人たちには面白いアイデアがいくつかあるね。" userName="gatinsama" createdAt="2025-03-07T18:12:05" color="#45d325">}}


{{< /details >}}


[記事一覧へ]({{% ref "/posts/" %}})
